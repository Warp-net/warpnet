project_name: warpnet
version: 2

builds:
  - id: member-macos-amd64
    main: ./cmd/node/member/
    binary: member
    goos: [ darwin ]
    goarch: [ amd64 ]
    env:
      - CGO_ENABLED=1
    flags: [ -mod=vendor ]
    hooks:
      pre:
        - sh -c 'cd cmd/node/member && wails build -platform darwin/amd64 -clean'

  - id: member-macos-arm64
    main: ./cmd/node/member/
    binary: member
    goos: [ darwin ]
    goarch: [ arm64 ]
    env:
      - CGO_ENABLED=1
    flags: [ -mod=vendor ]
    hooks:
      pre:
        - sh -c 'cd cmd/node/member && wails build -platform darwin/arm64 -clean'

release:
  github:
    owner: Warp-net
    name: warpnet

checksum:
  name_template: "{{ .ProjectName }}_darwin_{{ .Runtime.Goarch }}_checksums.txt"